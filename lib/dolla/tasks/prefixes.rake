namespace :dolla do

  desc "Seeds known Adquira bank prefixes"
  task prefixes: :environment do
    bank_prefixes = {
      hsbc:      %w/413405 413406 416502 426012 452421 456880 491280 491281 491283 491284 491294 522174 540956 541278 541286 541290 547068 547074 547092/,
      bancomer:  %w/410180 410181 418073 418075 418078 418080 418090 477210 418093 418094 441311 444085 444086 444087 455500 455501 455502 455503 455504 455505 455508 455513 455525 455526 455527 455529 455540 455545 493160 493161 493162 494398 522498 542010 542977 544053 544551 547077 547086 547095 547155 409728 410180 418073 418075 418077 418078 418080 418090 418093 418094 410181 415327 441311 441314 409728 410180 418073 418075 418077 418078 418080 418090 418093 418094 410181 415327 441311 441314 455506 455507 455514 455515 455518 455519 535875 477291 477292 477211 477212 477213 477214 547156 547492 554629/,
      banamex:   %w/405306 407458 407559 408242 408244 408245 410852 420713 435741 439120 441541 454057 454069 454492 455255 490176 491271 491272 491501 491502 493164 493165 498460 512709 512795 512809 512823 518004 518853 518899 520021 520213 520608 522130 525424 526489 528804 528805 528843 528851 528866 528875 528877 529001 529091 530056 530756 542537 544672 544925 545039 545631 547075 547093 547112 548234 548236 549138 549631 549639 554625 559209/,
      amex:      %w/370700 370701 370702 370703 370704 370705 370706 370707 370708 370709 370710 370711 370712 370713 370714 370715 370716 370717 370718 370719 370720 370721 370722 370723 370724 370725 370726 370727 370728 370729 370730 370731 370732 370733 370734 370735 370736 370737 370738 370739 370740 370741 370742 370743 370744 370745 370746 370747 370748 370749 370750 370751 370752 370753 370754 370755 370756 370757 370758 370759 370760 370761 370762 370763 370764 370765 370766 370767 370768 370769 370770 370771 370772 370773 370774 370775 370776 370777 370778 370779 370780 370781 370782 370783 370784 370785 370786 370787 370788 370789 370790 370791 370792 370793 370794 370795 370796 370797 370798 370799 376620 376621 376622 376623 376624 376625 376626 376627 376628 376629 376660 376661 376662 376663 376664 376665 376666 376667 376668 376669 376670 376671 376672 376673 376674 376675 376676 376677 376678 376679 376680 376681 376689 376700 376701 376702 376703 376704 376705 376706 376707 376708 376709 376716 376717 376718 377650 377651 377652 377653 377654 377655 377656 377657 377658 377659/,
      scotia:    %w/491871 491872 491873 545375 544204 547407/,
      santander: %w/545307 545307 545307 545307 545307 540845 540845 554900 547046 540845 554900 554900 554900 547046 547046 547046 547046 547046 554900 554900 552488 545730 554900 554900 554900 547046 547046 547146 547157 547157 547015 272800 491512 491572 491572 491573 491573 493135 493135 493135 493135 493135 493135 493135 493136 493136 494133 494133 494133 494133 494133 494133 494133 494133 494134 494134 506217 700013 700807/,
    }

    bank_prefixes.each do |bank, prefixes|
      prefixes.each do |prefix|
        Dolla::CardNumberPrefix.where( bank: bank, prefix: prefix.to_i ).first_or_create!
        print '*'
      end
    end
    puts '<- END'

  end

end


